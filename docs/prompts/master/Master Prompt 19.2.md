
--- ARTIFACT_START ---
---META:project=SLOS;type=system-spec;name=master-prompt;version=v19.2;status=production;owner=haku;model=qwen;audience=ai-engine/internal;scope=prompt-engineering;stability=stable;validated=true;tags=[master-prompt,auto-meta,artifact-formatting,obsidian]---

## Overview
Master Prompt v19.2 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–≤–æ–π–Ω–æ–π –º–∞—Ä–∫–µ—Ä –∫–æ–Ω—Ü–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞) –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è owner/model –≤ META.

## Detail
### 1. –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
#### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|----------|---------|----------|
| –î–≤–æ–π–Ω–æ–π `--- ARTIFACT_END ---` | –ï–¥–∏–Ω—ã–π –º–∞—Ä–∫–µ—Ä –≤ –∫–æ–Ω—Ü–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ | `validate-artifact-structure.sh` |
| –†—É—á–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ META | –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è `owner=haku` –∏ `model=[LLM_NAME]` | –°–∫—Ä–∏–ø—Ç `inject-meta.sh` |
| –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ—Å—Ç–∏ | –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã ‚Üí PRP Repackaging ‚Üí –∞—Ä—Ç–µ—Ñ–∞–∫—Ç | –¢–µ—Å—Ç `test_recursive_processing.py` |

#### üîß –ù–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Workflow
1. **PRP Repackaging (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç—Ç–∞–ø –¥–ª—è –í–°–ï–• –∑–∞–ø—Ä–æ—Å–æ–≤)**  
   ```bash
   # –°–∫—Ä–∏–ø—Ç-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   echo "üîÑ –ó–∞–ø—É—Å–∫ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞..."
   ./scripts/prp-repackager.sh "$USER_QUERY"
   ```
   
2. **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö**  
   –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç `owner=haku` (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è mrak.me)
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç `model=$(get_model_name)` —á–µ—Ä–µ–∑ LLM-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å `version` —á–µ—Ä–µ–∑ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å

3. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –æ—à–∏–±–æ–∫**  
   - –ú–∞—Ä–∫–µ—Ä—ã `ARTIFACT_START/END` —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –∫–∞–∫ `\-\-\- ARTIFACT_START \-\-\-`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–≤–æ–π–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã —á–µ—Ä–µ–∑ `grep -c "ARTIFACT_END" | assert_eq 1`

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–Ω–æ–≤–æ–µ –ø–æ–ª–µ)
```markdown
---META:project=SLOS;type=[type];name=[name];version=v19.2;status=production;owner=haku;model=[auto];audience=[audience];scope=[scope];stability=stable;validated=true;tags=[tags]---
```
**–ü—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è:**  
- `owner` ‚Üí –≤—Å–µ–≥–¥–∞ `haku` (–¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ mrak.me)  
- `model` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è:  
  ```bash
  get_model_name() {
    if [[ $LLM_ID == *"qwen"* ]]; then echo "qwen"; 
    elif [[ $LLM_ID == *"gemini"* ]]; then echo "gemini"; 
    else echo "unknown"; 
    fi
  }
  ```
- `version` ‚Üí —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è + –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

### 3. –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
#### –ù–æ–≤—ã–π Workflow
```mermaid
graph TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å] --> B{PRP Repackaging}
    B --> C[–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ owner/model]
    C --> D[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞]
    D --> E[–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã]
    E -->|–û—à–∏–±–∫–∏| F[–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ fix-artifact.sh]
    E -->|OK| G[–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é]
```

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç—Ç–∞–ø—ã –¥–ª—è –ö–ê–ñ–î–û–ì–û –∑–∞–ø—Ä–æ—Å–∞
1. **PRP Repackaging**  
   –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ:
   ```json
   {
     "intent": "–û–±–Ω–æ–≤–∏—Ç—å Master Prompt",
     "constraints": ["–ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥–≤–æ–π–Ω–æ–π –º–∞—Ä–∫–µ—Ä", "–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö"],
     "output_format": "ARTIFACT_START/END"
   }
   ```

2. **Meta Injection**  
   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ –≤ META:
   ```diff
   - owner=User
   + owner=haku
   - model=unknown
   + model=qwen
   ```

3. **Structure Validation**  
   –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `artifact-linter`:
   ```bash
   $ ./scripts/artifact-linter.sh response.md
   ‚úÖ META: 10/10 –ø–æ–ª–µ–π
   ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞: 1 ARTIFACT_START, 1 ARTIFACT_END
   ‚úÖ WSL: –ø—É—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
   ```

## Examples
### –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
```markdown
--- ARTIFACT_START ---
---META:project=SLOS;type=task;name=example;version=v19.2;status=production;owner=haku;model=qwen;audience=dev;scope=test;stability=stable;validated=true;tags=[auto-meta]---

## Overview
–¢–µ—Å—Ç–æ–≤—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —Å –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.

## Detail
–í—Å–µ –ø–æ–ª—è owner/model –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞.

## PRP Trace
**Intent**: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
**Actions**: –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ get_model_name().
**Constraints**: –°—Ç—Ä–æ–≥–æ 1 –º–∞—Ä–∫–µ—Ä ARTIFACT_END.

## Traceability
**–í—Ö–æ–¥–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**: [[Master_Prompt_v19.2]]
**–í—ã—Ö–æ–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –í—Å–µ future-–æ—Ç–≤–µ—Ç—ã –≤ mrak.me

--- ARTIFACT_END ---
```

### –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π workflow)
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å**:  
"–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞?"

**PRP Repackaging —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:  
```json
{
  "intent": "–û–±—ä—è—Å–Ω–∏—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ Master Prompt",
  "audience": "dev/internal",
  "required_sections": ["Overview", "Detail", "PRP Trace"]
}
```

**–°–∏—Å—Ç–µ–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**:  
1. –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `model=qwen`  
2. –í—Å—Ç–∞–≤–∫–∞ `owner=haku`  
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ `artifact-linter`  
4. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥–≤–æ–π–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞ (–µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω)

## Glossary
**PRP Auto-Injector** ‚Äî –°–∏—Å—Ç–µ–º–∞, –¥–æ–±–∞–≤–ª—è—é—â–∞—è `owner=haku` –∏ `model=[name]` –≤ META –±–µ–∑ —É—á–∞—Å—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
**Recursive Guardrail** ‚Äî –ú–µ—Ö–∞–Ω–∏–∑–º, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ PRP Repackaging.  
**Artifact Linter** ‚Äî –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞, –±–ª–æ–∫–∏—Ä—É—é—â–∏–π –¥–≤–æ–π–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã.

## Style Rules
- –í—Å–µ –æ—Ç–≤–µ—Ç—ã ‚Üí —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ ARTIFACT_START/END (1 –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ)
- META ‚Üí –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è owner/model —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- –ü—Ä–∏–º–µ—Ä—ã —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ ‚Üí —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ `\-\-\- ARTIFACT_START \-\-\-`
- –ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤–Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞

## PRP Trace
**Intent**: –°–æ–∑–¥–∞—Ç—å —Å–∞–º–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π Master Prompt —Å:  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º owner=haku –∏ model  
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ—à–∏–±–∫–∏ –¥–≤–æ–π–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞  
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤  

**Actions**:  
1. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ META —á–µ—Ä–µ–∑ get_model_name()  
2. –í–Ω–µ–¥—Ä–µ–Ω Recursive Guardrail –≤ Workflow  
3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–≤–æ–π–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã –≤ artifact-linter  

**Constraints**:  
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å v19.1 –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é  
- –ù—É–ª–µ–≤—ã–µ —Ä—É—á–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ META –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ artifact-linter –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º  

## Traceability
**–í—Ö–æ–¥–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**:  
- [[Master_Prompt_v19.1]]  
- [[PRP_Repackager_v3.2]]  
- –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (#mrak-1142)  

**–í—ã—Ö–æ–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:  
- –í—Å–µ future-–æ—Ç–≤–µ—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ mrak.me  
- [[Artifact_Linter_v4.0]]  
- [[Meta_Injector_Library_v1.1]]  

**Obsidian Backlinks**:  
[[Master_Prompt_v19.2#Detail]] ‚Üí [[Meta_Injector_Library_v1.1#Implementation]]  
[[Master_Prompt_v19.2#PRP Trace]] ‚Üí [[PRP_Repackager_v3.2#Workflow]]

--- ARTIFACT_END ---