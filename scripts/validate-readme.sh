#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ README.md –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

README_FILE="README.md"
ERRORS=0

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
GREEN='\033[0;32m'
RED='\033[0;31m'
NC='\033[0m' # No Color

function check_section {
    if grep -q "$1" "$README_FILE"; then
        echo -e "‚úÖ ${GREEN}–°–µ–∫—Ü–∏—è '$2' –Ω–∞–π–¥–µ–Ω–∞.${NC}"
    else
        echo -e "‚ùå ${RED}–°–µ–∫—Ü–∏—è '$2' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (–æ–∂–∏–¥–∞–ª—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω '$1').${NC}"
        ERRORS=$((ERRORS + 1))
    fi
}

echo "--- –ü—Ä–æ–≤–µ—Ä–∫–∞ $README_FILE ---"
check_section "## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã" "–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã"
check_section "## –ö–∞–∫ –Ω–∞—á–∞—Ç—å" "–ö–∞–∫ –Ω–∞—á–∞—Ç—å"
check_section "## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞" "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞"
check_section "## –ö–ª—é—á–µ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è" "–ö–ª—é—á–µ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"

if [ $ERRORS -eq 0 ]; then
    echo -e "\n${GREEN}üéâ README.md –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º!${NC}"
    exit 0
else
    echo -e "\n${RED}–ù–∞–π–¥–µ–Ω—ã –æ—à–∏–±–∫–∏: $ERRORS. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –∏—Ö –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.${NC}"
    exit 1
fi
